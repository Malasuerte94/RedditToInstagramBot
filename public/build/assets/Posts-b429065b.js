import{_ as b}from"./AppLayout-a0cc6694.js";import{o as r,c as f,w as m,G as i,a as e,e as a,F as c,i as p,f as u,t as h,n as k,J as x,K as y}from"./app-8e0074f6.js";import{_ as v}from"./_plugin-vue_export-helper-c27b6911.js";import"./logo-f4aaea87.js";const n=t=>(x("data-v-91f8786a"),t=t(),y(),t),w=n(()=>e("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Posts Scraped ",-1)),P={class:"py-12"},C={key:0,class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},L={class:"p-4 font-semibold text-xl text-gray-800 leading-tight"},B={class:"p-4"},j={key:0,class:"masonry-with-flex"},M={class:"item flex flex-col justify-between content-between"},S=["src"],D={class:"p-5"},A={class:"mb-2 text-2sm font-bold tracking-tight text-gray-900 dark:text-white"},I={class:"mb-3 font-normal text-gray-700 dark:text-gray-400"},V={class:"flex items-center p-2 justify-between"},$={class:"p-2.5 flex items-center border border-gray-200 rounded dark:border-gray-700"},F=["onChange","id","checked","name"],N=["for"],z=["onClick"],E=n(()=>e("svg",{class:"w-5 h-5",fill:"currentColor",stroke:"black",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24","stroke-width":"1.5"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5m-13.5-9L12 3m0 0l4.5 4.5M12 3v13.5"})],-1)),G=n(()=>e("span",{class:"sr-only"},"Delete",-1)),H=[E,G],J=["onClick"],K=n(()=>e("svg",{class:"w-5 h-5",fill:"currentColor",stroke:"black",strokeWidth:"{1.5}",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true"},[e("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})],-1)),O=n(()=>e("span",{class:"sr-only"},"Delete",-1)),W=[K,O],q={data(){return{loading:!0,posts:[],uploading:null}},mounted(){this.getPosts()},methods:{async getPosts(){try{const t=await i.get("/api/posts");this.posts=t.data,this.loading=!1}catch(t){console.error(t)}},async deletePost(t){try{await i.delete("/api/posts/"+t),this.getPosts()}catch(o){console.error(o)}},async updatePost(t,o){let g=o.target.checked;try{await i.patch("/api/posts/"+t,{confirmed:g}),this.getPosts()}catch(d){console.error(d)}},async uploadManual(t){this.uploading=t;try{await i.post("/api/posts/upload/",{post_id:t}),this.getPosts(),this.uploading=null}catch(o){console.error(o)}}}},Q=Object.assign(q,{__name:"Posts",setup(t){return(o,g)=>(r(),f(b,{title:"Dashboard"},{header:m(()=>[w]),default:m(()=>[e("div",P,[o.posts&&!o.loading?(r(),a("div",C,[(r(!0),a(c,null,p(o.posts,(d,_)=>(r(),a("div",{key:_,class:"bg-white overflow-hidden shadow-xl sm:rounded-lg"},[e("div",null,[e("h2",L,h(_),1)]),e("div",B,[d?(r(),a("div",j,[(r(!0),a(c,null,p(d,s=>(r(),a(c,{key:s.id},[s.posted?u("",!0):(r(),a("div",{key:0,class:k(["masonry-cell bg-white border border-gray-200 rounded-lg shadow-md dark:bg-gray-800 dark:border-gray-700",[o.uploading==s.id?"uploading animate-pulse":""]])},[e("div",M,[e("img",{class:"rounded-t-lg",src:s.image_url,alt:""},null,8,S),e("div",D,[e("h5",A," Author: "+h(s.author),1),e("p",I,h(s.content),1),e("div",V,[e("div",$,[e("input",{onChange:l=>o.updatePost(s.id,l),id:"bordered-checkbox-"+s.id,type:"checkbox",checked:s.confirmed,name:"bordered-checkbox-"+s.id,class:"text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"},null,40,F),e("label",{for:"bordered-checkbox-"+s.id,class:"w-full ml-2 text-sm font-medium text-gray-900 dark:text-gray-300"}," Aprove ",8,N)]),e("div",null,[e("button",{type:"button",onClick:l=>o.uploadManual(s.id),class:"text-blue-700 border border-green-700 hover:bg-green-700 hover:text-white focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm p-2.5 text-center inline-flex items-center mr-2 dark:border-blue-500 dark:text-blue-500 dark:hover:text-white dark:focus:ring-blue-800"},H,8,z),e("button",{type:"button",onClick:l=>o.deletePost(s.id),class:"text-blue-700 border border-red-700 hover:bg-red-700 hover:text-white focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm p-2.5 text-center inline-flex items-center mr-2 dark:border-blue-500 dark:text-blue-500 dark:hover:text-white dark:focus:ring-blue-800"},W,8,J)])])])])],2))],64))),128))])):u("",!0)])]))),128))])):u("",!0)])]),_:1}))}}),Z=v(Q,[["__scopeId","data-v-91f8786a"]]);export{Z as default};
