import{o,c as m,w as c,G as u,e as d,a as e,v as i,I as p,D as b,F as g,i as h,f as n,t as l}from"./app-d414e898.js";import{_}from"./AppLayout-47e364cd.js";import"./logo-f4aaea87.js";import"./_plugin-vue_export-helper-c27b6911.js";const y=e("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Reddit Scrappers ",-1),f={key:0,class:"py-12"},k={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},x={class:"bg-white overflow-hidden shadow-xl sm:rounded-lg"},w={key:0,class:"p-10"},v={class:"grid gap-6 mb-6 md:grid-cols-2"},S=e("label",{for:"subreddit",class:"block mb-2 text-sm font-medium text-black-900 text-black"},"Subreddit",-1),R=e("label",{for:"limit",class:"block mb-2 text-sm font-medium text-gray-900 text-black"},"Limit of posts",-1),A={class:"grid gap-6 mb-6 md:grid-cols-3"},D=e("label",{for:"filter_by",class:"block mb-2 text-sm font-medium text-black-900 text-black"},"Filter by",-1),F=e("option",{value:"hot"}," Hot ",-1),N=e("option",{value:"new"}," New ",-1),V=e("option",{value:"top"}," Top ",-1),B=e("option",{value:"random"}," Random ",-1),q=e("option",{value:"controversial"}," Controversial ",-1),C=[F,N,V,B,q],L=e("label",{for:"time_filter",class:"block mb-2 text-sm font-medium text-gray-900 text-black"},"Filter by time",-1),U=e("option",{value:"hour"}," Hour ",-1),M=e("option",{value:"day"}," Day ",-1),H=e("option",{value:"week"}," Week ",-1),T=e("option",{value:"month"}," Month ",-1),j=e("option",{value:"year"}," Year ",-1),E=e("option",{value:"all"}," All ",-1),G=[U,M,H,T,j,E],I={class:"flex flex self-end"},O={key:0},W={class:"py-12"},Y={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},$={class:"bg-white overflow-hidden shadow-xl sm:rounded-lg"},z={class:"relative overflow-x-auto shadow-md sm:rounded-lg p-5"},J={key:0,class:"w-full text-sm text-left text-gray-500 dark:text-gray-400"},K=e("thead",{class:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400"},[e("tr",null,[e("th",{scope:"col",class:"px-6 py-3"},"#"),e("th",{scope:"col",class:"px-6 py-3"},"Sub Reddit"),e("th",{scope:"col",class:"px-6 py-3"},"Filter By"),e("th",{scope:"col",class:"px-6 py-3"},"Filter by time"),e("th",{scope:"col",class:"px-6 py-3"},"Limit"),e("th",{scope:"col",class:"px-6 py-3"},"Date Added")])],-1),P={class:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white",scope:"row"},Q={class:"px-6 py-4"},X={class:"px-6 py-4"},Z={class:"px-6 py-4"},ee={class:"px-6 py-4"},te={class:"px-6 py-4"},re={data(){return{loading:!0,newRedditScrapper:{subreddit:"",filter_by:"hot",time_filter:"hour",limit_posts:10},igAccounts:[],reditScrapers:[],errors:[]}},mounted(){this.getRedditScrapersAccounts(),this.loading=!1},methods:{async getRedditScrapersAccounts(){try{this.loading=!0;const a=await u.get("/api/reddit-scrapers");this.reditScrapers=a.data.data}catch(a){console.error(a)}this.loading=!1},async addNewRedditScrapper(){try{this.loading=!0,this.errors=[],await u.post("/api/reddit-scrapers",this.newRedditScrapper),this.getRedditScrapersAccounts()}catch(a){this.errors=a.response.data.errors,console.error(a)}this.loading=!1}}},le=Object.assign(re,{__name:"RedditScraper",setup(a){return(r,s)=>(o(),m(_,{title:"Dashboard"},{header:c(()=>[y]),default:c(()=>[r.loading?n("",!0):(o(),d("div",f,[e("div",k,[e("div",x,[r.igAccounts?(o(),d("form",w,[e("div",v,[e("div",null,[S,i(e("input",{"onUpdate:modelValue":s[0]||(s[0]=t=>r.newRedditScrapper.subreddit=t),type:"text",id:"subreddit",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"working subreddit...",required:""},null,512),[[p,r.newRedditScrapper.subreddit]])]),e("div",null,[R,i(e("input",{"onUpdate:modelValue":s[1]||(s[1]=t=>r.newRedditScrapper.limit_posts=t),type:"number",id:"limit",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"Limit to nr. of posts",required:""},null,512),[[p,r.newRedditScrapper.limit_posts]])])]),e("div",A,[e("div",null,[D,i(e("select",{"onUpdate:modelValue":s[2]||(s[2]=t=>r.newRedditScrapper.filter_by=t),required:"",id:"filter_by",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"},C,512),[[b,r.newRedditScrapper.filter_by]])]),e("div",null,[L,i(e("select",{"onUpdate:modelValue":s[3]||(s[3]=t=>r.newRedditScrapper.time_filter=t),required:"",id:"time_filter",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"},G,512),[[b,r.newRedditScrapper.time_filter]])]),e("div",I,[e("button",{onClick:s[4]||(s[4]=(...t)=>r.addNewRedditScrapper&&r.addNewRedditScrapper(...t)),type:"button",class:"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm w-full px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"},"Submit")])]),r.errors?(o(),d("div",O,[(o(!0),d(g,null,h(r.errors,t=>(o(),d("div",{key:t,class:"text-red-500 text-sm"},l(t[0]),1))),128))])):n("",!0)])):n("",!0)])]),e("div",W,[e("div",Y,[e("div",$,[e("div",z,[r.reditScrapers?(o(),d("table",J,[K,e("tbody",null,[(o(!0),d(g,null,h(r.reditScrapers,t=>(o(),d("tr",{class:"bg-white border-b dark:bg-gray-900 dark:border-gray-700",key:t.id},[e("th",P,l(t.id),1),e("td",Q,l(t.subreddit),1),e("td",X,l(t.filter_by),1),e("td",Z,l(t.time_filter),1),e("td",ee,l(t.limit),1),e("td",te,l(t.created_at),1)]))),128))])])):n("",!0)])])])])]))]),_:1}))}});export{le as default};
