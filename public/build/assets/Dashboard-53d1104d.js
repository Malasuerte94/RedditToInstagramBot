import{_ as w}from"./AppLayout-f10963f2.js";import{o as r,e as a,a as e,v as g,D as h,F as l,i as c,t as i,f as u,n as p,E as v,G as n,c as k,w as _,b as m}from"./app-1de24da3.js";import"./logo-f4aaea87.js";import"./_plugin-vue_export-helper-c27b6911.js";const y={key:0},f=v('<div class="p-6 sm:px-20 bg-white border-b border-gray-200"><div class="flex items-center"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-8 h-8 text-gray-400"><path stroke-linecap="round" stroke-linejoin="round" d="M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25"></path></svg><div class="ml-4 text-lg text-gray-600 leading-7 font-semibold"> Reddit Automation </div></div></div>',1),x={class:"bg-gray-200 bg-opacity-25 grid grid-cols-1"},$={class:"p-6"},A={class:"mt-5"},S={class:"relative overflow-x-auto shadow-md sm:rounded-lg p-5"},R={key:0},C={class:"grid gap-6 mb-6 md:grid-cols-2"},I=e("label",{for:"ig_account_id",class:"block mb-2 text-sm font-medium text-black-900 text-black"},"Instagram",-1),V=e("option",{value:"null",selected:""},"Choose an account",-1),M=["value"],B=e("label",{for:"reddit_scraper_id",class:"block mb-2 text-sm font-medium text-black-900 text-black"},"Subreddit",-1),N=e("option",{value:"null",selected:""},"Subreddit",-1),j=["value"],z={class:"grid gap-6 mb-6 md:grid-cols-2"},D=e("label",{for:"hashtag_id",class:"block mb-2 text-sm font-medium text-black-900 text-black"},"Hashtags",-1),U=e("option",{value:"null",selected:""},"Hashtag collection",-1),q=["value"],H={class:"flex self-end"},O={key:0},E={class:"relative overflow-x-auto shadow-md sm:rounded-lg p-2.5"},F={class:"grid gap-1 grid-cols-5 content-center items-center"},G={class:"flex"},L=["onClick"],T=e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"blue",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"blue",class:"w-4 h-4"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.348a1.125 1.125 0 010 1.971l-11.54 6.347a1.125 1.125 0 01-1.667-.985V5.653z"})],-1),J=[T],K=["onClick"],P={key:0,xmlns:"http://www.w3.org/2000/svg",fill:"white",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"none",class:"w-6 h-6"},Q=e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.348a1.125 1.125 0 010 1.971l-11.54 6.347a1.125 1.125 0 01-1.667-.985V5.653z"},null,-1),W=[Q],X={key:1,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"white",class:"w-6 h-6"},Y=e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 5.25v13.5m-7.5-13.5v13.5"},null,-1),Z=[Y],ee=e("span",{class:"sr-only"},"Delete",-1),te={data(){return{loading:!0,newRedditAutomation:{ig_account_id:null,reddit_scraper_id:null,hashtag_id:null},redditAutomations:[],igAccounts:[],redditScrapers:[],hashtags:[],errors:[]}},mounted(){this.getRedditScrapersAccounts(),this.getHashtags(),this.getInstagramAccountsConnected(),this.getRedditAutomations(),this.loading=!1},methods:{async getRedditAutomations(){try{const o=await n.get("/api/reddit-automation");this.redditAutomations=o.data.data}catch(o){console.error(o)}},async getInstagramAccountsConnected(){try{const o=await n.get("/api/ig-accounts");this.igAccounts=o.data.data}catch(o){console.error(o)}},async getRedditScrapersAccounts(){try{this.loading=!0;const o=await n.get("/api/reddit-scrapers");this.redditScrapers=o.data.data}catch(o){console.error(o)}this.loading=!1},async getHashtags(){try{const o=await n.get("/api/hashtags");this.hashtags=o.data.data}catch(o){console.error(o)}},async addNewRedditScrapper(){try{await n.post("/api/reddit-automation",this.newRedditAutomation),this.getRedditAutomations()}catch(o){this.errors=o.response.data.errors}},async setActiveStatus(o,s){try{await n.patch(`/api/reddit-automation/${o}`,{status:s}),this.getRedditAutomations()}catch(d){console.error(d)}},async startManualScrape(o){try{await n.post(`/api/reddit-automation/start-test/${o}`)}catch(s){console.error(s)}}}},se=Object.assign(te,{__name:"RedditAutomation",setup(o){return(s,d)=>(r(),a("div",null,[s.loading?u("",!0):(r(),a("div",y,[f,e("div",x,[e("div",$,[e("div",A,[e("div",S,[s.igAccounts&&s.hashtags&&s.redditScrapers?(r(),a("form",R,[e("div",C,[e("div",null,[I,g(e("select",{"onUpdate:modelValue":d[0]||(d[0]=t=>s.newRedditAutomation.ig_account_id=t),required:"",id:"ig_account_id",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"},[V,(r(!0),a(l,null,c(s.igAccounts,t=>(r(),a("option",{key:t.id,value:t.id},i(t.username),9,M))),128))],512),[[h,s.newRedditAutomation.ig_account_id]])]),e("div",null,[B,g(e("select",{"onUpdate:modelValue":d[1]||(d[1]=t=>s.newRedditAutomation.reddit_scraper_id=t),required:"",id:"reddit_scraper_id",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"},[N,(r(!0),a(l,null,c(s.redditScrapers,t=>(r(),a("option",{key:t.id,value:t.id},i(t.subreddit),9,j))),128))],512),[[h,s.newRedditAutomation.reddit_scraper_id]])])]),e("div",z,[e("div",null,[D,g(e("select",{"onUpdate:modelValue":d[2]||(d[2]=t=>s.newRedditAutomation.hashtag_id=t),required:"",id:"hashtag_id",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"},[U,(r(!0),a(l,null,c(s.hashtags,t=>(r(),a("option",{key:t.id,value:t.id},i(t.name),9,q))),128))],512),[[h,s.newRedditAutomation.hashtag_id]])]),e("div",H,[e("button",{onClick:d[3]||(d[3]=(...t)=>s.addNewRedditScrapper&&s.addNewRedditScrapper(...t)),type:"button",class:"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm w-full px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"},"Submit")])]),s.errors?(r(),a("div",O,[(r(!0),a(l,null,c(s.errors,t=>(r(),a("div",{key:t,class:"text-red-500 text-sm"},i(t[0]),1))),128))])):u("",!0)])):u("",!0)])]),s.redditAutomations?(r(!0),a(l,{key:0},c(s.redditAutomations,t=>(r(),a("div",{key:t.id,class:"mt-5"},[e("div",E,[e("div",F,[e("div",null,i(t.subreddit),1),e("div",null,i(t.instagram),1),e("div",null,i(t.hashtags),1),e("div",null,i(t.created_at),1),e("div",G,[e("button",{type:"button",onClick:b=>s.startManualScrape(t.id),class:"ml-auto border rounded-lg p-2.5 text-center block items-center bg-blue-700 border-blue-500 focus:ring-blue-800 hover:scale-95"},J,8,L),e("button",{type:"button",onClick:b=>s.setActiveStatus(t.id,!t.active),class:p(["ml-auto border rounded-lg p-2.5 text-center block items-center focus:ring-green-800 hover:scale-95",{"bg-green-700":!t.active,"border-green-500":!t.active,"bg-red-700":t.active,"border-red-500":t.active}])},[t.active?(r(),a("svg",X,Z)):(r(),a("svg",P,W)),ee],10,K)])])])]))),128)):u("",!0)])])]))]))}}),oe=v('<div class="p-6 sm:px-20 bg-white border-b border-gray-200"><div class="flex items-center"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-8 h-8 text-gray-400"><path stroke-linecap="round" stroke-linejoin="round" d="M2.25 15.75l5.159-5.159a2.25 2.25 0 013.182 0l5.159 5.159m-1.5-1.5l1.409-1.409a2.25 2.25 0 013.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 001.5-1.5V6a1.5 1.5 0 00-1.5-1.5H3.75A1.5 1.5 0 002.25 6v12a1.5 1.5 0 001.5 1.5zm10.5-11.25h.008v.008h-.008V8.25zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0z"></path></svg><div class="ml-4 text-lg text-gray-600 leading-7 font-semibold"><a>Instagram Automation</a></div></div></div>',1),re={class:"bg-gray-200 bg-opacity-25 grid grid-cols-1"},ae={key:0,class:"p-6"},de={class:"mt-5"},ie={class:"relative overflow-x-auto shadow-md sm:rounded-lg p-5"},ne={key:0},le={class:"grid gap-6 mb-6 md:grid-cols-3"},ce=e("label",{for:"ig_account_id",class:"block mb-2 text-sm font-medium text-black-900 text-black"},"Instagram",-1),ue=e("option",{value:"null",selected:""},"Choose an account",-1),ge=["value"],he=e("label",{for:"reddit_scraper_id",class:"block mb-2 text-sm font-medium text-black-900 text-black"},"Subreddit",-1),be=e("option",{value:"null",selected:""},"Subreddit",-1),_e=["value"],me={class:"flex self-end"},pe={key:0},ve={class:"relative overflow-x-auto shadow-md sm:rounded-lg p-2.5"},we={class:"grid gap-1 grid-cols-4 content-center items-center"},ke={class:"flex"},ye=["onClick"],fe=e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"blue",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"blue",class:"w-4 h-4"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.348a1.125 1.125 0 010 1.971l-11.54 6.347a1.125 1.125 0 01-1.667-.985V5.653z"})],-1),xe=[fe],$e=["onClick"],Ae={key:0,xmlns:"http://www.w3.org/2000/svg",fill:"white",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"none",class:"w-6 h-6"},Se=e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.348a1.125 1.125 0 010 1.971l-11.54 6.347a1.125 1.125 0 01-1.667-.985V5.653z"},null,-1),Re=[Se],Ce={key:1,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"white",class:"w-6 h-6"},Ie=e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 5.25v13.5m-7.5-13.5v13.5"},null,-1),Ve=[Ie],Me=e("span",{class:"sr-only"},"Delete",-1),Be={data(){return{loading:!0,newInstagramAutomation:{ig_account_id:null,reddit_scraper_id:null},instagramAutomations:[],igAccounts:[],redditScrapers:[],errors:[]}},mounted(){this.getRedditScrapersAccounts(),this.getInstagramAccountsConnected(),this.getinstagramAutomations(),this.loading=!1},methods:{async getinstagramAutomations(){try{const o=await n.get("/api/instagram-automation");this.instagramAutomations=o.data.data}catch(o){console.error(o)}},async getInstagramAccountsConnected(){try{const o=await n.get("/api/ig-accounts");this.igAccounts=o.data.data}catch(o){console.error(o)}},async getRedditScrapersAccounts(){try{this.loading=!0;const o=await n.get("/api/reddit-scrapers");this.redditScrapers=o.data.data}catch(o){console.error(o)}this.loading=!1},async setActiveStatus(o,s){try{await n.patch(`/api/instagram-automation/${o}`,{status:s}),this.getinstagramAutomations()}catch(d){console.error(d)}},async addNewInstagramAutomation(){try{await n.post("/api/instagram-automation",this.newInstagramAutomation),this.getinstagramAutomations()}catch(o){this.errors=o.response.data.errors}},async startManualScrape(){try{console.log("STARTING MANUAL JOB");const o=await n.post("/api/start-ig-job-once");console.log(o)}catch(o){console.error(o)}}}},Ne=Object.assign(Be,{__name:"InstagramAutomation",setup(o){return(s,d)=>(r(),a("div",null,[e("div",null,[oe,e("div",re,[s.loading?u("",!0):(r(),a("div",ae,[e("div",de,[e("div",ie,[s.igAccounts&&s.redditScrapers?(r(),a("form",ne,[e("div",le,[e("div",null,[ce,g(e("select",{"onUpdate:modelValue":d[0]||(d[0]=t=>s.newInstagramAutomation.ig_account_id=t),required:"",id:"ig_account_id",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"},[ue,(r(!0),a(l,null,c(s.igAccounts,t=>(r(),a("option",{key:t.id,value:t.id},i(t.username),9,ge))),128))],512),[[h,s.newInstagramAutomation.ig_account_id]])]),e("div",null,[he,g(e("select",{"onUpdate:modelValue":d[1]||(d[1]=t=>s.newInstagramAutomation.reddit_scraper_id=t),required:"",id:"reddit_scraper_id",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"},[be,(r(!0),a(l,null,c(s.redditScrapers,t=>(r(),a("option",{key:t.id,value:t.id},i(t.subreddit),9,_e))),128))],512),[[h,s.newInstagramAutomation.reddit_scraper_id]])]),e("div",me,[e("button",{onClick:d[2]||(d[2]=(...t)=>s.addNewInstagramAutomation&&s.addNewInstagramAutomation(...t)),type:"button",class:"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm w-full px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"},"Submit")])]),s.errors?(r(),a("div",pe,[(r(!0),a(l,null,c(s.errors,t=>(r(),a("div",{key:t,class:"text-red-500 text-sm"},i(t[0]),1))),128))])):u("",!0)])):u("",!0)])]),s.instagramAutomations?(r(!0),a(l,{key:0},c(s.instagramAutomations,t=>(r(),a("div",{key:t.id,class:"mt-5"},[e("div",ve,[e("div",we,[e("div",null,i(t.subreddit),1),e("div",null,i(t.instagram),1),e("div",null,i(t.created_at),1),e("div",ke,[e("button",{type:"button",onClick:b=>s.startManualScrape(t.id),class:"ml-auto border rounded-lg p-2.5 text-center block items-center bg-blue-700 border-blue-500 focus:ring-blue-800 hover:scale-95"},xe,8,ye),e("button",{type:"button",onClick:b=>s.setActiveStatus(t.id,!t.active),class:p(["ml-auto border rounded-lg p-2.5 text-center block items-center focus:ring-green-800 hover:scale-95",{"bg-green-700":!t.active,"border-green-500":!t.active,"bg-red-700":t.active,"border-red-500":t.active}])},[t.active?(r(),a("svg",Ce,Ve)):(r(),a("svg",Ae,Re)),Me],10,$e)])])])]))),128)):u("",!0)]))])])]))}}),je=e("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Dashboard ",-1),ze={class:"py-12"},De={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},Ue={class:"bg-white overflow-hidden shadow-xl sm:rounded-lg"},qe={class:"py-12"},He={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},Oe={class:"bg-white overflow-hidden shadow-xl sm:rounded-lg"},Te={__name:"Dashboard",setup(o){return(s,d)=>(r(),k(w,{title:"Dashboard"},{header:_(()=>[je]),default:_(()=>[e("div",ze,[e("div",De,[e("div",Ue,[m(se)])])]),e("div",qe,[e("div",He,[e("div",Oe,[m(Ne)])])])]),_:1}))}};export{Te as default};
